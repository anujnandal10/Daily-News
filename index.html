<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Daily News • Glass Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;600&family=Orbitron:wght@600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.4/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popmotion/spring@10.0.41/dist/popmotion-spring.min.js"></script>

<style>
/************  THEME  ************/
:root{
  --accent0:#5ea5ff;
  --accent1:#9a55ff;
  --txt-light:#fafafa;
  --txt-dark:#111;
  --card-bg:rgba(255,255,255,.08);
  --card-brd:rgba(255,255,255,.22);
  --navbar-glass:rgba(255,255,255,.65);
  --neon:linear-gradient(90deg,var(--accent0),var(--accent1));
}
@media (prefers-color-scheme:dark){
  :root{
    --card-bg:rgba(255,255,255,.06);
    --card-brd:rgba(255,255,255,.15);
    --navbar-glass:rgba(30,30,30,.55);
  }
}

/************  BASE  ************/
*{box-sizing:border-box;margin:0}
html,body{height:100%}
body{
  font-family:"SF Pro Display",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
  color:var(--txt-dark);
  background:#0d0f23;
  overflow-x:hidden;
}

/************  HERO BACKDROP  ************/
.bg-wrap{
  position:fixed;inset:0;overflow:hidden;z-index:-2;
}
.plasma{
  position:absolute;width:120vw;height:120vw;top:-60vw;left:-10vw;
  background:radial-gradient(circle at 30% 30%,var(--accent1) 0%,transparent 60%),
             radial-gradient(circle at 70% 70%,var(--accent0) 0%,transparent 60%);
  filter:blur(120px) saturate(160%);
  animation:spin 30s linear infinite;
  mix-blend-mode:plus-lighter;
}
@keyframes spin{to{transform:rotate(360deg)}}
.stars{
  position:absolute;inset:0;background:url("data:image/svg+xml,\
    %3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23ffffff'/%3E%3C/svg%3E") repeat;
  animation:scroll-y 60s linear infinite;
  opacity:.12;
}
@keyframes scroll-y{to{background-position:0 512px}}

/************  NAVBAR  ************/
nav{
  position:sticky;top:0;z-index:999;
  backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);
  background:var(--navbar-glass);
  border-bottom:1px solid rgba(255,255,255,.18);
}
nav .inner{
  max-width:1100px;margin:0 auto;padding:1rem 1.4rem;
  font-size:clamp(1.3rem,4vw,2rem);font-weight:600;
  letter-spacing:.035em;color:var(--txt-dark);
  position:relative;
}
nav .inner::after{
  content:"";position:absolute;left:0;bottom:-2px;width:100%;height:3px;
  background:var(--neon);filter:blur(6px);opacity:.7;
  animation:pulse 6s ease-in-out infinite;
}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:.15}}
.brand-accent{font-family:Orbitron,sans-serif;color:var(--accent0)}

/************  LAYOUT  ************/
main{max-width:1100px;margin:2.8rem auto 4rem;padding:0 1.4rem}
.grid{
  columns:300px 3; column-gap:1.8rem;
}
section{
  break-inside:avoid; margin:0 0 1.8rem;
  background:var(--card-bg); border:1px solid var(--card-brd);
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  border-radius:22px; padding:1.5rem 1.4rem 1rem;
  transform:translateY(40px);opacity:0;
}
h2{font-size:1.2rem;margin-bottom:1rem;color:var(--accent0);font-weight:600}
details{margin:.8rem 0;border-left:2px solid var(--accent0);padding-left:.9rem}
summary{cursor:pointer;list-style:none;font-weight:600;position:relative;padding-right:1.4rem}
summary::after{content:"›";position:absolute;right:0;top:0;transition:.25s}
details[open] summary::after{transform:rotate(90deg)}
ul{padding-left:1rem;margin:.4rem 0}

/* 3-D tilt on hover (desktop) */
@media (hover:hover){
  section{transition:transform .3s ease,box-shadow .3s ease}
  section:hover{transform:rotateX(1deg) rotateY(-4deg) translateY(-6px) scale(1.02);
                box-shadow:0 14px 32px rgba(0,0,0,.25)}
}

/************  FOOTER  ************/
footer{text-align:center;font-size:.75rem;margin:3rem 0;color:var(--txt-light);opacity:.6}
</style>
</head>
<body>

<div class="bg-wrap">
  <div class="plasma"></div>
  <div class="stars"></div>
</div>

<nav><div class="inner">Daily News<span class="brand-accent">•</span>Briefing</div></nav>

<main><div id="grid" class="grid"></div></main>

<footer>© 2025 News Digest — Sources as cited</footer>

<script>
/*  ↓  UPDATE THIS LINE EACH DAY  ↓  */
const markdownUrl = "news/Daily%20News%202025-06-17.md";
/* ---------------------------------- */

fetch(markdownUrl)
  .then(r=>r.ok?r.text():Promise.reject("File not found ("+r.status+")"))
  .then(raw=>{
    const md = raw.replace(/^• /gm,"- ");
    const html = marked.parse(md);
    const grid = document.getElementById("grid");
    grid.innerHTML = html;

    /* group by H2 → section */
    let sec=null;
    Array.from(grid.childNodes).forEach(n=>{
      if(n.nodeType!==1) return;
      if(n.tagName==="H2"){
        sec=document.createElement("section"); n.before(sec);
      }
      sec&&sec.appendChild(n);
    });

    /* headlines → details */
    grid.querySelectorAll("section").forEach(section=>{
      const bits=[...section.childNodes].filter(x=>x!==section.querySelector("h2"));
      let art=null;
      bits.forEach(n=>{
        if(n.querySelector && n.querySelector("strong")){
          art=document.createElement("details");
          const sum=document.createElement("summary");
          sum.textContent=n.querySelector("strong").textContent;
          art.appendChild(sum); section.appendChild(art);
        }
        art?.appendChild(n);
      });
    });

    /* SCROLL-REVEAL */
    const io=new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          gsap.to(e.target,{y:0,opacity:1,duration:.8,ease:"power3.out"});
          io.unobserve(e.target);
        }
      });
    },{threshold:.15});
    document.querySelectorAll("section").forEach(s=>io.observe(s));

    /* SPRING OPEN/CLOSE */
    document.querySelectorAll("details").forEach(det=>{
      det.addEventListener("toggle",()=>{
        const content=det.querySelector("summary").nextElementSibling;
        if(!content) return;
        const from=det.open?0:content.offsetHeight;
        const to  =det.open?content.offsetHeight:0;
        const spring=popmotion.spring({from,to,stiffness:140,damping:18});
        spring.start(v=>content.style.height=v+"px");
      });
    });
  })
  .catch(e=>{
    document.getElementById("grid").innerHTML=
      `<p style="color:#ff453a;font-weight:600">Could not load the news file.<br>${e}</p>`;
  });
</script>
</body>
</html>